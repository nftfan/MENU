<!DOCTYPE html>
<html lang="en">
<head>

  <link rel="icon" href="https://raw.githubusercontent.com/nftfan/MENU/refs/heads/main/day/Untitled%20design%20(54).png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Delivery</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
	  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Delivery</title>
    
    <!-- iOS Web App Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Personal Delivery">
    
    <!-- iOS Icons (Optional, recommended to create your own) -->
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/nftfan/MENU/refs/heads/main/day/Untitled%20design%20(54).png">
    
    <!-- iOS Splash Screen (Optional, recommended to create your own) -->
    <link rel="apple-touch-startup-image" href="https://raw.githubusercontent.com/nftfan/MENU/refs/heads/main/day/Untitled%20design%20(54).png">
    <!-- Add the Web App Manifest (Optional) -->
    <link rel="manifest" href="https://raw.githubusercontent.com/nftfan/delivery/main/d2.json">
    <!-- iOS Viewport Adjustment -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

   
   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Earnings and Spending Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Roboto Mono', monospace;
            background-color: #121212;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            width: 100%;
            max-width: 500px;
            padding: 10px; /* Reduced padding */
            background-color: #1e1e1e;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            margin-bottom: 20px; /* Reduced margin */
        }
        .header {
            text-align: center;
            margin-bottom: 10px; /* Reduced margin */
        }
        h1 {
            font-size: 10px; /* Smaller font size */
            color: #ffeb3b;
        }
        .input-box {
            width: 100%;
            padding: 8px; /* Reduced padding */
            margin: 6px 0; /* Reduced margin */
            border-radius: 6px;
            font-size: 9px; /* Smaller font size */
            background-color: #333;
            color: #fff;
            border: 1px solid #444;
        }
        .input-box:focus {
            outline: none;
            border-color: #ffeb3b;
        }
        .card {
            background-color: #292929;
            border-radius: 12px;
            padding: 10px; /* Reduced padding */
            margin: 8px 0; /* Reduced margin */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
        }
        .card .title {
            font-size: 9px; /* Smaller font size */
            font-weight: bold;
            color: #ffeb3b;
            margin-bottom: 8px; /* Reduced margin */
        }
        .total {
            text-align: center;
            font-size: 9px; /* Smaller font size */
            font-weight: bold;
            margin-top: 10px; /* Reduced margin */
        }
        .total span {
            color: #ffeb3b;
        }
        .button {
            background-color: #4caf50;
            color: white;
            padding: 10px; /* Reduced padding */
            border: none;
            border-radius: 6px;
            font-size: 9px; /* Smaller font size */
            width: 100%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .button:hover {
            background-color: #45a049;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            color: #fff;
            font-size: 8px; /* Smaller font size */
        }
        th, td {
            padding: 6px; /* Reduced padding */
            text-align: center;
            border: 1px solid #444;
        }
        th {
            background-color: #333;
        }
        tr:nth-child(even) {
            background-color: #292929;
        }
        .footer {
            text-align: center;
            font-size: 8px; /* Smaller font size */
            color: #b0b0b0;
            margin-top: 10px; /* Reduced margin */
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Daily Earnings and Spending Tracker</h1>
        <input type="date" id="dateInput" class="input-box" aria-label="Select Date" onchange="updateEntries()">
    </div>

    <div class="card">
        <div class="title">Earnings</div>
        <input type="number" id="earningsInput" class="input-box" placeholder="Enter Earnings ($)" aria-label="Enter Earnings" oninput="updateTotal()">
    </div>

    <div class="card">
        <div class="title">Spending</div>
        <input type="number" id="spendingInput" class="input-box" placeholder="Enter Spending ($)" aria-label="Enter Spending" oninput="updateTotal()">
    </div>

    <div class="total">
        <div>Total Amount: <span id="totalAmount">$0.00</span></div>
    </div>

    <button class="button" onclick="postEntry()">Post Entry</button>

    <div class="table-container">
        <table id="entriesTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Earnings</th>
                    <th>Spending</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <!-- Entries will be added here -->
            </tbody>
        </table>
    </div>
</div>

<!-- Monthly Total Table -->
<div class="container">
    <h2 style="text-align: center; color: #ffeb3b; font-size: 10px;">Monthly Totals</h2>
    <div class="table-container">
        <table id="monthlyTotalTable">
            <thead>
                <tr>
                    <th>Month</th>
                    <th>Earnings</th>
                    <th>Spending</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <!-- Monthly totals will be added here -->
            </tbody>
        </table>
    </div>
</div>

<!-- Yearly Total Table -->
<div class="container">
    <h2 style="text-align: center; color: #ffeb3b; font-size: 10px;">Yearly Totals</h2>
    <div class="table-container">
        <table id="yearlyTotalTable">
            <thead>
                <tr>
                    <th>Year</th>
                    <th>Earnings</th>
                    <th>Spending</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <!-- Yearly totals will be added here -->
            </tbody>
        </table>
    </div>
</div>

<div class="footer">
    <p>&copy; 2024 Daily Tracker. All rights reserved.</p>
</div>

<script>
 // Load data from local storage
let currentEntries = JSON.parse(localStorage.getItem('currentEntries')) || {};
let monthlyTotal = JSON.parse(localStorage.getItem('monthlyTotal')) || {};
let yearlyTotal = JSON.parse(localStorage.getItem('yearlyTotal')) || {};

function updateTotal() {
    const earnings = parseFloat(document.getElementById('earningsInput').value) || 0;
    const spending = parseFloat(document.getElementById('spendingInput').value) || 0;
    const total = earnings - spending;
    document.getElementById('totalAmount').textContent = `$${total.toFixed(2)}`;
}

function updateEntries() {
    const selectedDate = document.getElementById('dateInput').value;
    if (currentEntries[selectedDate]) {
        document.getElementById('earningsInput').value = currentEntries[selectedDate].earnings;
        document.getElementById('spendingInput').value = currentEntries[selectedDate].spending;
        updateTotal();
    } else {
        document.getElementById('earningsInput').value = '';
        document.getElementById('spendingInput').value = '';
        document.getElementById('totalAmount').textContent = '$0.00';
    }
}

function postEntry() {
    const selectedDate = document.getElementById('dateInput').value;
    const earnings = parseFloat(document.getElementById('earningsInput').value) || 0;
    const spending = parseFloat(document.getElementById('spendingInput').value) || 0;
    const total = earnings - spending;

    // Validate date input
    if (!selectedDate) {
        alert('Please select a date.');
        return;
    }

    // Save the current entry for the selected date
    currentEntries[selectedDate] = { earnings, spending, total };
    localStorage.setItem('currentEntries', JSON.stringify(currentEntries));

    // Update the entries table
    updateEntriesTable();

    // Update monthly and yearly totals
    updateMonthlyYearlyTotals(selectedDate, earnings, spending);
    updateTotal();
}

function updateEntriesTable() {
    const tableBody = document.getElementById('entriesTable').getElementsByTagName('tbody')[0];
    tableBody.innerHTML = ''; // Clear previous entries

    // Get sorted dates in descending order
    const sortedDates = Object.keys(currentEntries).sort((a, b) => new Date(b) - new Date(a));

    for (let date of sortedDates) {
        const entry = currentEntries[date];
        const row = tableBody.insertRow();
        row.innerHTML = `
            <td>${date}</td>
            <td>$${entry.earnings.toFixed(2)}</td>
            <td>$${entry.spending.toFixed(2)}</td>
            <td>$${entry.total.toFixed(2)}</td>
        `;
    }
}

function updateMonthlyYearlyTotals(date, earnings, spending) {
    const dateObj = new Date(date);
    const month = dateObj.toLocaleString('default', { month: 'short' }) + ' ' + dateObj.getFullYear().toString().slice(2, 4);
    const year = dateObj.getFullYear();

    // Update Monthly Totals
    if (!monthlyTotal[month]) {
        monthlyTotal[month] = { earnings: 0, spending: 0, total: 0 };
    }
    monthlyTotal[month].earnings += earnings;
    monthlyTotal[month].spending += spending;
    monthlyTotal[month].total += (earnings - spending);
    localStorage.setItem('monthlyTotal', JSON.stringify(monthlyTotal));

    // Update Monthly Totals Table
    updateMonthlyTotalsTable();

    // Update Yearly Totals
    if (!yearlyTotal[year]) {
        yearlyTotal[year] = { earnings: 0, spending: 0, total: 0 };
    }
    yearlyTotal[year].earnings += earnings;
    yearlyTotal[year].spending += spending;
    yearlyTotal[year].total += (earnings - spending);
    localStorage.setItem('yearlyTotal', JSON.stringify(yearlyTotal));

    // Update Yearly Totals Table
    updateYearlyTotalsTable();
}

function updateMonthlyTotalsTable() {
    const monthlyRow = document.getElementById('monthlyTotalTable').getElementsByTagName('tbody')[0];
    monthlyRow.innerHTML = ''; // Clear previous entries
    for (let month in monthlyTotal) {
        const total = monthlyTotal[month];
        const row = monthlyRow.insertRow();
        row.innerHTML = `
            <td>${month}</td>
            <td>$${total.earnings.toFixed(2)}</td>
            <td>$${total.spending.toFixed(2)}</td>
            <td>$${total.total.toFixed(2)}</td>
        `;
    }
}

function updateYearlyTotalsTable() {
    const yearlyRow = document.getElementById('yearlyTotalTable').getElementsByTagName('tbody')[0];
    yearlyRow.innerHTML = ''; // Clear previous entries
    for (let year in yearlyTotal) {
        const total = yearlyTotal[year];
        const row = yearlyRow.insertRow();
        row.innerHTML = `
            <td>${year}</td>
            <td>$${total.earnings.toFixed(2)}</td>
            <td>$${total.spending.toFixed(2)}</td>
            <td>$${total.total.toFixed(2)}</td>
        `;
    }
}

// Load initial data
window.onload = function() {
    updateEntriesTable();
    updateMonthlyTotalsTable();
    updateYearlyTotalsTable();
};
</script>

</body>
</html>

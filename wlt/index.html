

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NFTFANS Balance & News</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="NFTFANS Balance">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Copy%20of%20NFT.jpg">
  <link rel="apple-touch-startup-image" href="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Copy%20of%20NFT.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="manifest" href="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/and.json">
	<meta name="theme-color" content="#7a3cff">
<meta name="mobile-web-app-capable" content="yes">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

body { 
  margin: 0; 
  background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000011 100%);
  font-family: 'Rajdhani', 'Orbitron', monospace; 
  color: #00ffff; 
  overflow-x: hidden; 
  font-size: 7px;
  line-height: 1.4;
  position: relative;
  animation: backgroundPulse 8s ease-in-out infinite alternate;
}

@keyframes backgroundPulse {
  0% { background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000011 100%); }
  100% { background: linear-gradient(135deg, #000011 0%, #330066 50%, #0a0a0a 100%); }
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 80%, rgba(0,255,255,0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255,0,150,0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(0,255,0,0.05) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
  animation: nebula 12s ease-in-out infinite alternate;
}

@keyframes nebula {
  0% { opacity: 0.3; transform: scale(1); }
  100% { opacity: 0.6; transform: scale(1.1); }
}

.cyber-grid { 
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(to right, rgba(0,255,255,0.1) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,255,255,0.1) 1px, transparent 1px);
  background-size: 30px 30px;
  z-index: 1;
  pointer-events: none;
  animation: gridPulse 4s ease-in-out infinite;
}

@keyframes gridPulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.7; }
}

.wrapper { 
  max-width: 960px; 
  margin: 0 auto; 
  padding: 8px; 
  position: relative; 
  z-index: 10; 
}

.header-bar { 
  background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(51,0,102,0.6) 100%);
  border-radius: 8px; 
  padding: 8px; 
  margin-bottom: 8px; 
  position: relative; 
  box-shadow: 
    0 0 20px rgba(0,255,255,0.3),
    inset 0 1px 0 rgba(0,255,255,0.2);
  border: 1px solid rgba(0,255,255,0.4);
  backdrop-filter: blur(10px);
}

.banner-area { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  position: relative; 
}

.banner-area img { 
  max-width: 100%; 
  height: auto; 
  border-radius: 6px;
  box-shadow: 0 0 15px rgba(0,255,255,0.4);
  border: 1px solid rgba(0,255,255,0.3);
}

.tab-bar { 
  display: flex; 
  gap: 3px; 
  justify-content: center; 
}

.tab-btn { 
  flex: 1; 
  background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,0,51,0.8) 100%);
  color: #00ffff; 
  border: 1px solid rgba(0,255,255,0.3); 
  padding: 6px; 
  border-radius: 6px; 
  cursor: pointer; 
  font-size: 7px; 
  transition: all 0.3s ease; 
  display: flex; 
  align-items: center; 
  gap: 3px; 
  justify-content: center; 
  min-width: 70px; 
  font-weight: 600;
  font-family: 'Orbitron', monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}

.tab-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(0,255,255,0.2), transparent);
  transition: left 0.5s;
}

.tab-btn:hover::before {
  left: 100%;
}

.tab-btn.active { 
  background: linear-gradient(135deg, #ff0080 0%, #8000ff 100%);
  color: #ffffff;
  border-color: #ff0080;
  box-shadow: 
    0 0 20px rgba(255,0,128,0.5),
    inset 0 1px 0 rgba(255,255,255,0.2);
  text-shadow: 0 0 10px rgba(255,255,255,0.8);
}

.tab-btn:hover { 
  background: linear-gradient(135deg, rgba(0,255,255,0.2) 0%, rgba(128,0,255,0.2) 100%);
  border-color: #00ffff;
  box-shadow: 0 0 15px rgba(0,255,255,0.4);
  text-shadow: 0 0 8px rgba(0,255,255,0.8);
  transform: translateY(-2px);
}

.tab-btn .material-icons { 
  font-size: 12px; 
  vertical-align: middle;
  filter: drop-shadow(0 0 3px currentColor);
}

.tab-content { 
  margin-top: 8px; 
}

.tab-content.hidden { 
  display: none; 
}

.wallet-input-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 5px;
  margin: 12px 0;
  width: 100%;
}

.wallet-input {
  background: rgba(0,0,0,0.8);
  color: #00ffff;
  border: 1px solid rgba(0,255,255,0.4);
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 7px;
  font-family: 'Orbitron', monospace;
  width: 100%;
  max-width: 280px;
  outline: none;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  box-shadow: inset 0 0 10px rgba(0,255,255,0.1);
}

.wallet-input:focus { 
  border-color: #ff0080; 
  box-shadow: 
    0 0 20px rgba(255,0,128,0.4),
    inset 0 0 10px rgba(255,0,128,0.1);
  color: #ff0080;
  text-shadow: 0 0 5px currentColor;
}

.wallet-go-btn {
  background: linear-gradient(135deg, #00ffff 0%, #8000ff 100%);
  color: #000000;
  border: none;
  border-radius: 6px;
  padding: 6px 12px;
  font-size: 7px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 2px;
  font-family: 'Orbitron', monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
  box-shadow: 0 0 15px rgba(0,255,255,0.4);
  position: relative;
  overflow: hidden;
}

.wallet-go-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: left 0.5s;
}

.wallet-go-btn:hover::before {
  left: 100%;
}

.wallet-go-btn .material-icons { 
  font-size: 12px;
  filter: drop-shadow(0 0 3px currentColor);
}

.wallet-go-btn:hover { 
  background: linear-gradient(135deg, #ff0080 0%, #00ffff 100%);
  box-shadow: 0 0 25px rgba(255,0,128,0.6);
  transform: translateY(-2px);
}

.balance-list { 
  list-style: none; 
  padding: 0; 
  margin: 0; 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
}

.balance-card {
  background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(26,0,51,0.7) 100%);
  border-radius: 8px;
  padding: 12px 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 
    0 0 20px rgba(0,255,255,0.2),
    inset 0 1px 0 rgba(0,255,255,0.1);
  border: 1px solid rgba(0,255,255,0.3);
  position: relative;
  backdrop-filter: blur(10px);
  overflow: hidden;
}

.balance-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #00ffff, #ff0080, #8000ff, #00ffff);
  animation: borderGlow 3s linear infinite;
}

@keyframes borderGlow {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.token-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(0,255,255,0.2) 0%, rgba(0,0,0,0.8) 100%);
  object-fit: cover;
  border: 2px solid #00ffff;
  margin-right: 4px;
  box-shadow: 
    0 0 15px rgba(0,255,255,0.4),
    inset 0 0 10px rgba(0,255,255,0.1);
  animation: iconPulse 2s ease-in-out infinite alternate;
}

@keyframes iconPulse {
  0% { box-shadow: 0 0 15px rgba(0,255,255,0.4), inset 0 0 10px rgba(0,255,255,0.1); }
  100% { box-shadow: 0 0 25px rgba(0,255,255,0.8), inset 0 0 15px rgba(0,255,255,0.3); }
}

.token-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.token-symbol {
  font-family: 'Orbitron', monospace;
  font-size: 8px;
  font-weight: 700;
  letter-spacing: 1px;
  color: #00ffff;
  margin-bottom: 1px;
  text-transform: uppercase;
  text-shadow: 0 0 10px currentColor;
  animation: textGlow 2s ease-in-out infinite alternate;
}

@keyframes textGlow {
  0% { text-shadow: 0 0 10px currentColor; }
  100% { text-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
}

.token-symbol .material-icons.token { 
  color: #ff0080; 
  font-size: 10px; 
  margin-right: 2px; 
  vertical-align: middle;
  filter: drop-shadow(0 0 5px currentColor);
}

.token-ca {
  font-size: 7px;
  color: rgba(0,255,255,0.6);
  margin-top: 1px;
  word-break: break-all;
  font-family: 'Orbitron', monospace;
}

.token-balance {
  font-size: 9px;
  font-family: 'Orbitron', monospace;
  font-weight: 700;
  color: #ffffff;
  letter-spacing: 1px;
  margin-bottom: 1px;
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}

.token-name {
  color: rgba(255,255,255,0.8);
  font-size: 7px;
  margin-top: 1px;
  margin-bottom: 1px;
}

.token-symbol.poldog .material-icons.token { 
  color: #00ff80; 
}

.token-symbol.poldog { 
  color: #00ff80; 
}

.nft-section {
  margin: 15px 0 6px 0;
}

.nft-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 6px;
  margin: 0;
  padding: 0;
  justify-content: start;
  align-items: start;
}

.nft-card {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(51,0,102,0.7) 100%);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(0,255,255,0.4);
  box-sizing: border-box;
  box-shadow: 0 0 15px rgba(0,255,255,0.2);
  font-size: 7px;
  text-align: center;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.nft-card:hover {
  border-color: #ff0080;
  box-shadow: 0 0 25px rgba(255,0,128,0.4);
  transform: translateY(-2px) scale(1.05);
}

.nft-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  background: radial-gradient(circle, rgba(0,255,255,0.1) 0%, rgba(0,0,0,0.8) 100%);
  display: block;
  border-radius: 6px;
}

.nft-count-badge {
  position: absolute;
  bottom: 2px;
  right: 4px;
  background: linear-gradient(135deg, #00ff80 0%, #00ffff 100%);
  color: #000000;
  font-size: 7px;
  font-family: 'Orbitron', monospace;
  padding: 1px 3px;
  border-radius: 8px;
  font-weight: 700;
  box-shadow: 0 0 10px rgba(0,255,128,0.6);
  text-shadow: none;
}

.nft-title {
  position: absolute;
  top: 2px;
  left: 3px;
  color: #00ffff;
  font-size: 7px;
  font-weight: 600;
  background: rgba(0,0,0,0.8);
  border-radius: 4px;
  padding: 1px 3px;
  max-width: 50px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  pointer-events: none;
  border: 1px solid rgba(0,255,255,0.3);
  text-shadow: 0 0 5px currentColor;
}

.nft-empty-msg {
  margin: 8px 0 0 0;
  color: rgba(0,255,255,0.6);
  text-align: center;
  font-size: 7px;
}

.buy-section {
  background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(26,0,51,0.7) 100%);
  border-radius: 8px;
  margin: 15px 0 12px 0;
  padding: 12px 8px;
  box-shadow: 
    0 0 20px rgba(255,0,128,0.2),
    inset 0 1px 0 rgba(255,0,128,0.1);
  border: 1px solid rgba(255,0,128,0.3);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.buy-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #ff0080, #8000ff, #00ffff, #ff0080);
  animation: borderGlow 4s linear infinite;
}

.buy-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.buy-row:last-child { 
  margin-bottom: 0; 
}

.buy-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 2px solid #ff0080;
  object-fit: cover;
  background: radial-gradient(circle, rgba(255,0,128,0.2) 0%, rgba(0,0,0,0.8) 100%);
  box-shadow: 0 0 15px rgba(255,0,128,0.4);
}

.buy-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.buy-symbol {
  font-family: 'Orbitron', monospace;
  font-size: 8px;
  font-weight: 700;
  color: #ff0080;
  margin-bottom: 0;
  display: flex;
  align-items: center;
  gap: 2px;
  text-transform: uppercase;
  text-shadow: 0 0 10px currentColor;
}

.buy-symbol.poldog { 
  color: #00ff80; 
}

.buy-balance {
  font-size: 8px;
  color: #ffffff;
  font-weight: 700;
  margin-bottom: 1px;
  font-family: 'Orbitron', monospace;
  text-shadow: 0 0 8px rgba(255,255,255,0.5);
}

.buy-ca {
  font-size: 7px;
  color: rgba(255,255,255,0.6);
  word-break: break-all;
  display: flex;
  align-items: center;
  gap: 4px;
  font-family: 'Orbitron', monospace;
}

.copy-btn {
  background: none;
  border: none;
  color: #00ffff;
  cursor: pointer;
  font-size: 7px;
  padding: 0 2px;
  margin-left: 2px;
  display: flex;
  align-items: center;
  transition: all 0.3s ease;
  border-radius: 3px;
}

.copy-btn:hover {
  color: #ff0080;
  text-shadow: 0 0 8px currentColor;
  background: rgba(255,0,128,0.1);
}

.copy-btn .material-icons { 
  font-size: 10px;
  filter: drop-shadow(0 0 3px currentColor);
}

.copy-btn.copied { 
  color: #00ff80 !important;
  text-shadow: 0 0 10px currentColor !important;
}

.buy-section-info {
  background: rgba(0,0,0,0.8);
  color: #00ffff;
  border-radius: 6px;
  padding: 8px 6px;
  font-size: 7px;
  margin: 12px 0 8px 0;
  border: 1px solid rgba(0,255,255,0.3);
  line-height: 1.5;
  text-align: center;
  font-family: 'Rajdhani', sans-serif;
  backdrop-filter: blur(10px);
  box-shadow: inset 0 0 10px rgba(0,255,255,0.1);
}

.buy-rates {
  margin-top: 6px;
  font-size: 7px;
  color: #ff0080;
  font-family: 'Orbitron', monospace;
  text-shadow: 0 0 8px currentColor;
}

.buy-nft-grid-title {
  font-size: 8px;
  font-weight: 700;
  margin: 10px 0 6px 1px;
  color: #00ffff;
  text-transform: uppercase;
  letter-spacing: 1px;
  text-shadow: 0 0 10px currentColor;
}

.buy-nft-grid .nft-card {
  border: 2px solid #ff0080;
  box-shadow: 0 0 20px rgba(255,0,128,0.4);
  margin-bottom: 0;
}

.nft-buy-btn {
  position: absolute;
  left: 50%;
  bottom: 3px;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #ff0080 0%, #8000ff 100%);
  color: #ffffff;
  border: none;
  border-radius: 4px;
  padding: 2px 5px;
  font-size: 7px;
  font-family: 'Orbitron', monospace;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 3;
  margin-top: 3px;
  display: flex;
  align-items: center;
  gap: 1px;
  text-decoration: none;
  text-transform: uppercase;
  box-shadow: 0 0 10px rgba(255,0,128,0.4);
  text-shadow: 0 0 5px rgba(255,255,255,0.8);
}

.nft-buy-btn:hover { 
  background: linear-gradient(135deg, #00ffff 0%, #ff0080 100%);
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  transform: translateX(-50%) translateY(-2px);
}

.nft-buy-btn .material-icons { 
  font-size: 8px; 
  vertical-align: middle;
  filter: drop-shadow(0 0 3px currentColor);
}

.error-bar {
  text-align: center;
  color: #ff0080;
  margin: 8px 0 0 0;
  font-size: 7px;
  font-weight: 700;
  text-shadow: 0 0 10px currentColor;
  animation: errorPulse 1s ease-in-out infinite alternate;
}

@keyframes errorPulse {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

footer { 
  text-align: center; 
  padding: 8px; 
  font-size: 7px; 
  color: rgba(0,255,255,0.5);
  text-shadow: 0 0 5px currentColor;
}

/* Desktop styles */
@media (min-width: 768px) {
  body { 
    font-size: 11px; 
  }
  
  .tab-btn { 
    font-size: 11px; 
    min-width: 90px;
    padding: 8px;
  }
  
  .tab-btn .material-icons { 
    font-size: 16px; 
  }
  
  .wallet-input {
    font-size: 11px;
    max-width: 330px;
    padding: 8px 12px;
  }
  
  .wallet-go-btn {
    font-size: 11px;
    padding: 8px 16px;
  }
  
  .wallet-go-btn .material-icons { 
    font-size: 16px; 
  }
  
  .token-symbol {
    font-size: 11px;
  }
  
  .token-symbol .material-icons.token { 
    font-size: 14px; 
  }
  
  .token-ca {
    font-size: 11px;
  }
  
  .token-balance {
    font-size: 14px;
  }
  
  .token-name {
    font-size: 11px;
  }
  
  .nft-grid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  }
  
  .nft-card {
    width: 80px;
    height: 80px;
    font-size: 11px;
  }
  
  .nft-count-badge {
    font-size: 11px;
    padding: 2px 4px;
  }
  
  .nft-title {
    font-size: 11px;
    max-width: 70px;
  }
  
  .nft-empty-msg {
    font-size: 11px;
  }
  
  .buy-icon {
    width: 36px;
    height: 36px;
  }
  
  .buy-symbol {
    font-size: 11px;
  }
  
  .buy-balance {
    font-size: 11px;
  }
  
  .buy-ca {
    font-size: 11px;
  }
  
  .copy-btn {
    font-size: 11px;
  }
  
  .copy-btn .material-icons { 
    font-size: 14px; 
  }
  
  .buy-section-info {
    font-size: 11px;
  }
  
  .buy-rates {
    font-size: 11px;
  }
  
  .buy-nft-grid-title {
    font-size: 11px;
  }
  
  .nft-buy-btn {
    font-size: 11px;
    padding: 3px 6px;
  }
  
  .nft-buy-btn .material-icons { 
    font-size: 11px; 
  }
  
  .error-bar {
    font-size: 11px;
  }
  
  footer { 
    font-size: 11px; 
  }
}
  </style>
</head>
<body>
  <div class="cyber-grid"></div>
  <div class="wrapper">
    <div class="header-bar">
      <div class="banner-area">
        <img src="https://pbs.twimg.com/media/Gs758wIWEAEsq45?format=jpg&name=large" alt="NFTFANS Banner">
      </div>
  <div class="tab-bar" role="tablist">
  <button class="tab-btn active" id="tab-balance" role="tab" aria-selected="true">
    <span class="material-icons">account_balance_wallet</span> WALLET
  </button>
  <button class="tab-btn" id="tab-buy" role="tab">
    <span class="material-icons">shopping_cart</span> BUY
  </button>
  <button class="tab-btn" id="tab-news" role="tab">
    <span class="material-icons">feed</span> AIRDROPS
  </button>
</div>
    </div>

    <section class="wallet-input-bar">
      <input class="wallet-input" type="text" id="walletInput" placeholder="Enter Polygon wallet (0x...)" autocomplete="off" spellcheck="false" />
      <button class="wallet-go-btn" id="addWalletBtn" onclick="addWallet()">
        <span class="material-icons">add</span> ADD WALLET
      </button>
      <button class="wallet-go-btn" id="deleteWalletBtn" style="display:none;" onclick="deleteWallet()">
        <span class="material-icons">delete</span> DELETE WALLET
      </button>
      <input class="wallet-input" type="text" id="solanaWalletInput" placeholder="Enter Solana wallet (starts with C...)" autocomplete="off" spellcheck="false" />
      <button class="wallet-go-btn" id="addSolanaWalletBtn" onclick="addSolanaWallet()">
        <span class="material-icons">add</span> ADD SOLANA WALLET
      </button>
      <button class="wallet-go-btn" id="deleteSolanaWalletBtn" style="display:none;" onclick="deleteSolanaWallet()">
        <span class="material-icons">delete</span> DELETE SOLANA WALLET
      </button>
    </section>

    <div id="errorBar" class="error-bar" style="display:none;"></div>

    <section class="tab-content" id="tab-content-balance">
      <ul class="balance-list">
        <li class="balance-card">
          <img class="token-icon" src="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Copy%20of%20NFT.jpg" alt="NFTFAN">
          <div class="token-details">
            <span class="token-symbol"><span class="material-icons token">token</span>NFTFAN (Polygon)</span>
            <span class="token-name">NFT Fans</span>
            <span class="token-balance" id="nftfanBalance">--</span>
            <span class="token-ca">CA: <span id="nftfanPolygonCA">0x2017Fcaea540d2925430586DC92818035Bfc2F50</span></span>
          </div>
        </li>
        <li class="balance-card">
          <img class="token-icon" src="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Untitled%20design%20(56).png" alt="POLDOG">
          <div class="token-details">
            <span class="token-symbol poldog"><span class="material-icons token">pets</span>POLDOG (Polygon)</span>
            <span class="token-name">Polygon Dogs</span>
            <span class="token-balance" id="poldogBalance">--</span>
            <span class="token-ca">CA: <span id="poldogPolygonCA">0xC504f9154B2f563879c9E25Cd564A47975326737</span></span>
          </div>
        </li>
        <li class="balance-card">
          <img class="token-icon" src="https://raw.githubusercontent.com/nftfan/MENU/refs/heads/main/1kt/M2ez5q8I_400x400.jpg" alt="NFTFAN Base">
          <div class="token-details">
            <span class="token-symbol"><span class="material-icons token">token</span>NFTFAN (Base)</span>
            <span class="token-name">NFT Fans</span>
            <span class="token-balance" id="nftfanBaseBalance">--</span>
            <span class="token-ca">CA: <span id="nftfanBaseCA">0xaDb8389AB6df18e3c963b0502eaB0e54A970Ad2D</span></span>
          </div>
        </li>
        <li class="balance-card">
          <img class="token-icon" src="https://raw.githubusercontent.com/nftfan/solana2/main/Copy%20of%20Copy%20of%20NFT%20(1).png" alt="NFTFAN Solana">
          <div class="token-details">
            <span class="token-symbol"><span class="material-icons token">token</span>NFTFAN (Solana)</span>
            <span class="token-name">NFT Fans Token Solana</span>
            <span class="token-balance" id="nftfanSolBalance">--</span>
            <span class="token-ca">CA: <span id="nftfanSolCA">Ct2rhkJhsbqzxbLmvcbswBXeTfoN5uzcVmNnrtUJXsht</span></span>
          </div>
        </li>
      </ul>

      <div class="nft-section">
        <div class="nft-section-title">Coin Fun NFTs</div>
        <div id="nftGridWrap">
          <div class="nft-grid" id="nftGrid"></div>
          <div class="nft-empty-msg" id="nftEmptyMsg" style="display:none;">No Coin Fun NFTs found for this wallet.</div>
        </div>
      </div>
    </section>

    <section class="tab-content hidden" id="tab-content-buy">
      <div class="buy-section">
        <div class="buy-row">
          <img class="buy-icon" src="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Copy%20of%20NFT.jpg" alt="NFTFAN">
          <div class="buy-details">
            <span class="buy-symbol"><span class="material-icons token">token</span>NFTFAN</span>
            <span class="token-name">NFT Fans Token Sale</span>
            <span class="buy-ca">
              SALE CA: <span id="nftfanSaleCA">0xaf2d132C8773bca3821C24EcF64e844E202A12e8</span>
              <button class="copy-btn" onclick="copyToClipboard('nftfanSaleCA', this)" title="Copy"><span class="material-icons">content_copy</span></button>
            </span>
            <span class="buy-balance" id="nftfanSaleBalance">--</span>
          </div>
        </div>

        <div class="buy-row">
          <img class="buy-icon" src="https://raw.githubusercontent.com/leuvenfd/coinfun/refs/heads/main/Untitled%20design%20(56).png" alt="POLDOG">
          <div class="buy-details">
            <span class="buy-symbol poldog"><span class="material-icons token">pets</span>POLDOG</span>
            <span class="token-name">Polygon Dogs Token Sale</span>
            <span class="buy-ca">
              SALE CA: <span id="poldogSaleCA">0xb1a37c277986e13aa6c4f0763c2f06c4e9527d54</span>
              <button class="copy-btn" onclick="copyToClipboard('poldogSaleCA', this)" title="Copy"><span class="material-icons">content_copy</span></button>
            </span>
            <span class="buy-balance" id="poldogSaleBalance">--</span>
          </div>
        </div>

        <div class="buy-section-info">
          <div>To buy any Token, send <span style="color:#00ffff;">$POL</span> (<b>0.01 - 100</b>) to any above contract addresses.<br>
          You will receive the tokens automatically.<br>
          <span class="buy-rates">
            1 POL = 1000T NFTFAN<br>
            1 POL = 1,000,000 POLDOG
          </span>
          </div>
        </div>

        <div class="buy-nft-grid-title">Coin Fun NFTs</div>
        <div class="nft-grid buy-nft-grid" id="buyNftGrid"></div>
        <div class="nft-empty-msg" id="buyNftEmptyMsg" style="display:none;">NFT sale not available now.</div>
      </div>
    </section>

    <section class="tab-content hidden" id="tab-content-news">
      <div class="news-section">
        <ul class="news-list" id="newsList">
          <li class="news-card">
            <div class="news-title">Welcome to NFT Fans & Polygon Dogs!</div>
            <div>Airdrops will be announced here!</div>
          </li>
          <li class="news-card">
            <div class="news-title">How to Buy Tokens?</div>
            <div>Go to Buy tab and follow instructions.</div>
          </li>
          <li class="news-card">
            <div class="news-title">How to get Coin Fun NFTs?</div>
            <div>Coin Fun NFTs are ERC1155 collectibles. You can get them via https://www.nftfanstoken.com/coinfun/</div>
          </li>
        </ul>
      </div>
    </section>
  </div>
  <footer>
    <span class="material-icons" style="font-size:13px;vertical-align:middle;color:#7a3cff;">copyright</span>
    NFTFANS TOKEN
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.66.2/lib/index.iife.js"></script>


<script>
window.addEventListener("DOMContentLoaded", () => {
  // ---- Constants & Config ----
  const NFTFAN_TOKEN_CA = "0x2017Fcaea540d2925430586DC92818035Bfc2F50";
  const POLDOG_TOKEN_CA   = "0xC504f9154B2f563879c9E25Cd564A47975326737";
  const COINFUN_NFT_CA    = "0x582E752646c6df16a14247994f1848C7Cd208211";
  const NFTFAN_SALE_CA    = "0xaf2d132C8773bca3821C24EcF64e844E202A12e8";
  const POLDOG_SALE_CA    = "0xb1a37c277986e13aa6c4f0763c2f06c4e9527d54";
  const NFTFAN_BASE_TOKEN_CA = "0xaDb8389AB6df18e3c963b0502eaB0e54A970Ad2D";
  const NFTFAN_SOL_MINT   = "Ct2rhkJhsbqzxbLmvcbswBXeTfoN5uzcVmNnrtUJXsht";
  const WALLET_STORAGE_KEY        = "nftfans-wallet-address";
  const SOLANA_WALLET_STORAGE_KEY = "nftfans-solana-wallet-address";
  const COINFUN_NFT_IDS = Array.from({length:30}, (_, i) => i);

  // ---- ABIs & Connections ----
  const ERC20_ABI = [
    {"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"type":"function"},
    {"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"}
  ];
  const ERC1155_ABI = [
    {"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"type":"function"},
    {"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"uri","outputs":[{"name":"","type":"string"}],"type":"function"}
  ];
  
  const web3Polygon = new Web3("https://polygon-rpc.com/");
  const web3Base    = new Web3("https://mainnet.base.org");

  const nftfanContract     = new web3Polygon.eth.Contract(ERC20_ABI, NFTFAN_TOKEN_CA);
  const poldogContract     = new web3Polygon.eth.Contract(ERC20_ABI, POLDOG_TOKEN_CA);
  const coinfunContract    = new web3Polygon.eth.Contract(ERC1155_ABI, COINFUN_NFT_CA);
  const nftfanSaleContract = new web3Polygon.eth.Contract(ERC20_ABI, NFTFAN_SALE_CA);
  const poldogSaleContract = new web3Polygon.eth.Contract(ERC20_ABI, POLDOG_SALE_CA);
  const nftfanBaseContract = new web3Base.eth.Contract(ERC20_ABI, NFTFAN_BASE_TOKEN_CA);

  // ---- Solana Connection ----
  const endpoint = {
  mainnet: "https://rpc.ankr.com/solana",
  devnet: "https://api.devnet.solana.com",
  testnet: "https://api.testnet.solana.com",
};

const solConnection = new solanaWeb3.Connection(endpoint["mainnet"]);
 

  // ---- Utility & UI Functions ----

  function formatNumberNoDecimals(numStr, decimals) {
    if (!numStr) return "--";
    try {
      let n = BigInt(numStr);
      let div = BigInt(10) ** BigInt(decimals);
      let w = n / div;
      return w.toLocaleString('en-US');
    } catch {
      return "--";
    }
  }

  function clearNFTGrid(loading = false) {
    const grid = document.getElementById('nftGrid');
    const msg  = document.getElementById('nftEmptyMsg');
    grid.innerHTML = loading
      ? '<div class="nft-empty-msg" style="color:#aaa;text-align:center;">Loading NFTs...</div>'
      : '';
    msg.style.display = "none";
  }

  function setWalletInputUI(address) {
    const inp = document.getElementById('walletInput');
    const add = document.getElementById('addWalletBtn');
    const del = document.getElementById('deleteWalletBtn');
    if (address) {
      inp.value = address;
      inp.disabled = true;
      add.style.display = "none";
      del.style.display = "";
    } else {
      inp.value = "";
      inp.disabled = false;
      add.style.display = "";
      del.style.display = "none";
    }
  }

  function setSolanaWalletInputUI(address) {
    const inp = document.getElementById('solanaWalletInput');
    const add = document.getElementById('addSolanaWalletBtn');
    const del = document.getElementById('deleteSolanaWalletBtn');
    if (address) {
      inp.value = address;
      inp.disabled = true;
      add.style.display = "none";
      del.style.display = "";
    } else {
      inp.value = "";
      inp.disabled = false;
      add.style.display = "";
      del.style.display = "none";
    }
  }

  function getSavedWallet() {
    return localStorage.getItem(WALLET_STORAGE_KEY) || null;
  }

  function getSavedSolanaWallet() {
    return localStorage.getItem(SOLANA_WALLET_STORAGE_KEY) || null;
  }

  // ---- Wallet Handlers ----

  function addWallet() {
    const addr = document.getElementById('walletInput').value.trim();
    const err  = document.getElementById('errorBar');
    err.style.display = "none";
    if (!/^0x[a-fA-F0-9]{40}$/.test(addr)) {
      err.textContent = "Please enter a valid Ethereum address";
      err.style.display = "";
      return;
    }
    localStorage.setItem(WALLET_STORAGE_KEY, addr);
    setWalletInputUI(addr);
    fetchBalances();
  }

  function deleteWallet() {
    localStorage.removeItem(WALLET_STORAGE_KEY);
    setWalletInputUI(null);
    document.getElementById('nftfanBalance').textContent = "--";
    document.getElementById('poldogBalance').textContent = "--";
    document.getElementById('nftfanBaseBalance').textContent = "--";
    clearNFTGrid();
  }

  function addSolanaWallet() {
    const addr = document.getElementById('solanaWalletInput').value.trim();
    const err  = document.getElementById('errorBar');
    err.style.display = "none";
    try {
      new solanaWeb3.PublicKey(addr);
      localStorage.setItem(SOLANA_WALLET_STORAGE_KEY, addr);
      setSolanaWalletInputUI(addr);
      fetchBalances();
    } catch {
      err.textContent = "Please enter a valid Solana address";
      err.style.display = "";
    }
  }

  function deleteSolanaWallet() {
    localStorage.removeItem(SOLANA_WALLET_STORAGE_KEY);
    setSolanaWalletInputUI(null);
    document.getElementById('nftfanSolBalance').textContent = "--";
  }

  // ---- Data Fetchers ----

  async function getSplTokenBalance(connection, walletAddr, mintAddr) {
    console.log("[Solana] Checking balance for wallet:", walletAddr, "mint:", mintAddr);
    try {
      const wpk = new solanaWeb3.PublicKey(walletAddr);
      const mpk = new solanaWeb3.PublicKey(mintAddr);
      const tacs = await connection.getTokenAccountsByOwner(wpk, { mint: mpk });
      console.log("[Solana] Token accounts found:", tacs.value.length);
      if (!tacs.value.length) {
        console.log("[Solana] No token accounts found for this mint.");
        return "--";
      }
      let total = 0;
      for (let acct of tacs.value) {
        const bi = await connection.getTokenAccountBalance(acct.pubkey);
        console.log("[Solana] Account:", acct.pubkey.toBase58(), "balance:", bi.value.uiAmount);
        total += bi.value.uiAmount;
      }
      return Math.floor(total).toLocaleString('en-US');
    } catch (e) {
      console.error("[Solana] Error fetching SPL balance:", e);
      return "--";
    }
  }

  async function fetchCoinFunNFTs(address, gridId, emptyMsgId, showBuyBtn=false) {
    const grid       = document.getElementById(gridId);
    const emptyMsgEl = document.getElementById(emptyMsgId);
    grid.innerHTML   = "";
    emptyMsgEl.style.display = "none";

    const rows = await Promise.all(COINFUN_NFT_IDS.map(async id => {
      try {
        let [bal, uri] = await Promise.all([
          address ? coinfunContract.methods.balanceOf(address, id).call() : "1",
          coinfunContract.methods.uri(id).call()
        ]);
        if ((bal !== "0") || showBuyBtn) {
          let metaUrl = uri.replace('{id}', id.toString(16).padStart(64, '0'));
          if (metaUrl.startsWith("ipfs://")) {
            metaUrl = "https://ipfs.io/ipfs/" + metaUrl.slice(7);
          }
          let img  = '', title = '';
          try {
            let m = await fetch(metaUrl).then(res => res.json());
            img   = m.image?.startsWith("ipfs://") ? "https://ipfs.io/ipfs/" + m.image.slice(7) : m.image;
            title = m.name || `#${id}`;
          } catch {}
          if (!img)   img = 'https://via.placeholder.com/70x70?text=NFT';
          if (!title) title = `#${id}`;

          let btnHtml = showBuyBtn
            ? `<a class="nft-buy-btn" href="https://www.nftfanstoken.com/coinfun/" target="_blank">
                 <span class="material-icons">shopping_cart</span>Buy
               </a>`
            : `<span class="nft-count-badge">x${bal}</span>`;

          return `<div class="nft-card">
                    <img class="nft-img" src="${img}" alt="NFT #${id}" loading="lazy"
                         onerror="this.src='https://via.placeholder.com/70x70?text=NFT'">
                    <span class="nft-title">${title}</span>
                    ${btnHtml}
                  </div>`;
        }
      } catch {}
      return "";
    }));

    const filtered = rows.filter(Boolean);
    if (!filtered.length) {
      grid.innerHTML = "";
      emptyMsgEl.textContent = showBuyBtn
        ? "NFT sale not available now."
        : "No Coin Fun NFTs found for this wallet.";
      emptyMsgEl.style.display = "";
    } else {
      grid.innerHTML = filtered.join("");
      emptyMsgEl.style.display = "none";
    }
  }

  async function fetchBalances() {
    const ethAddr = getSavedWallet();
    const solAddr = getSavedSolanaWallet();
    const err     = document.getElementById('errorBar');

    err.style.display = "none";

    // --- Ethereum & Base Balances ---
    ["nftfanBalance", "poldogBalance", "nftfanBaseBalance"].forEach(id =>
      document.getElementById(id).textContent = "--"
    );
    if (ethAddr && /^0x[a-fA-F0-9]{40}$/.test(ethAddr)) {
      ["nftfanBalance", "poldogBalance", "nftfanBaseBalance"].forEach(id =>
        document.getElementById(id).textContent = "..."
      );
      try {
        const [[nfBal, nfDec], [pdBal, pdDec], [nbBal, nbDec]] = await Promise.all([
          Promise.all([nftfanContract.methods.balanceOf(ethAddr).call(), nftfanContract.methods.decimals().call()]),
          Promise.all([poldogContract.methods.balanceOf(ethAddr).call(), poldogContract.methods.decimals().call()]),
          Promise.all([nftfanBaseContract.methods.balanceOf(ethAddr).call(), nftfanBaseContract.methods.decimals().call()])
        ]);
        document.getElementById('nftfanBalance').textContent     = formatNumberNoDecimals(nfBal, nfDec);
        document.getElementById('poldogBalance').textContent     = formatNumberNoDecimals(pdBal, pdDec);
        document.getElementById('nftfanBaseBalance').textContent = formatNumberNoDecimals(nbBal, nbDec);
      } catch {
        err.textContent = "Failed to load Ethereum/Base balances.";
        err.style.display = "";
      }
    }

    // --- Solana SPL Balance ---
    const solElem = document.getElementById('nftfanSolBalance');
    solElem.textContent = "--";
    if (solAddr) {
      try {
        new solanaWeb3.PublicKey(solAddr);
        solElem.textContent = "...";
        const bal = await getSplTokenBalance(solConnection, solAddr, NFTFAN_SOL_MINT);
        if (bal === "--") {
          solElem.textContent = "Not found";
        } else {
          solElem.textContent = bal;
        }
      } catch (e) {
        solElem.textContent = "--";
        console.error("[Solana] Invalid address or error:", e);
      }
    }
  }

  async function fetchBuyTabBalances() {
    ["nftfanSaleBalance", "poldogSaleBalance"].forEach(id => 
      document.getElementById(id).textContent = "..."
    );
    try {
      const [[nfSaleBal, nfSaleDec], [pdSaleBal, pdSaleDec]] = await Promise.all([
        Promise.all([nftfanSaleContract.methods.balanceOf(NFTFAN_SALE_CA).call(), nftfanSaleContract.methods.decimals().call()]),
        Promise.all([poldogSaleContract.methods.balanceOf(POLDOG_SALE_CA).call(), poldogSaleContract.methods.decimals().call()])
      ]);
      document.getElementById('nftfanSaleBalance').textContent = formatNumberNoDecimals(nfSaleBal, nfSaleDec);
      document.getElementById('poldogSaleBalance').textContent = formatNumberNoDecimals(pdSaleBal, pdSaleDec);
    } catch {
      ["nftfanSaleBalance", "poldogSaleBalance"].forEach(id =>
        document.getElementById(id).textContent = "--"
      );
    }
    await fetchCoinFunNFTs(null, "buyNftGrid", "buyNftEmptyMsg", true);
  }

  function copyToClipboard(spanId, btn) {
    const txt = document.getElementById(spanId).textContent;
    navigator.clipboard.writeText(txt).then(() => {
      btn.classList.add('copied');
      btn.title = "Copied!";
      setTimeout(() => {
        btn.classList.remove('copied');
        btn.title = "Copy";
      }, 1200);
    });
  }

  function showTab(tab) {
    document.getElementById('tab-content-balance').classList.toggle("hidden", tab !== 'balance');
    document.getElementById('tab-content-buy').classList.toggle("hidden", tab !== 'buy');
    document.getElementById('tab-content-news').classList.toggle("hidden", tab !== 'news');
    document.getElementById('tab-balance').classList.toggle('active', tab === 'balance');
    document.getElementById('tab-buy').classList.toggle('active', tab === 'buy');
    document.getElementById('tab-news').classList.toggle('active', tab === 'news');
    if (tab === 'buy') fetchBuyTabBalances();
    if (tab === 'balance') fetchBalances();
  }

  // ---- Event Listeners ----
  document.getElementById('walletInput').addEventListener('keydown', e => {
    if (e.key === 'Enter' && !getSavedWallet()) addWallet();
  });
  document.getElementById('solanaWalletInput').addEventListener('keydown', e => {
    if (e.key === 'Enter' && !getSavedSolanaWallet()) addSolanaWallet();
  });
  document.getElementById('addWalletBtn').    addEventListener('click', addWallet);
  document.getElementById('deleteWalletBtn'). addEventListener('click', deleteWallet);
  document.getElementById('addSolanaWalletBtn').    addEventListener('click', addSolanaWallet);
  document.getElementById('deleteSolanaWalletBtn'). addEventListener('click', deleteSolanaWallet);
  document.getElementById('tab-balance').addEventListener('click', () => showTab('balance'));
  document.getElementById('tab-buy').     addEventListener('click', () => showTab('buy'));
  document.getElementById('tab-news').    addEventListener('click', () => showTab('news'));

  // ---- Init UI ----
  setWalletInputUI(getSavedWallet());
  setSolanaWalletInputUI(getSavedSolanaWallet());
  showTab('balance');
  fetchBalances();
});
</script>


</body>
</html>

